<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart - MusicStore</title>
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="cart.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
<header class="header">
  <div class="container">
    <div class="top-bar">
      <a href="../index.html" class="logo">MusicStore</a>
      <nav class="nav">
        <a href="../account/account.html">Hello, Sign in</a>
        <a href="#">Orders</a>
        <a href="cart.html">Cart</a>
      </nav>
    </div>
  </div>
</header>

<main class="cart-container">
  <h1>Cart Items</h1>
  <div class="cart-content">
    <section class="cart-items">
      <div id="cart-items-container"></div>
    </section>

    <section class="order-summary">
      <h2>Order Summary</h2>
      <div class="summary-item">
        <span>Subtotal</span>
        <span id="subtotal">$0.00</span>
      </div>
      <div class="summary-item">
        <span>Shipping</span>
        <span id="shipping">$5.99</span>
      </div>
      <div class="summary-item">
        <span>Tax</span>
        <span id="tax">$0.00</span>
      </div>
      <div class="summary-item total">
        <span>Total</span>
        <span id="total">$0.00</span>
      </div>

      <div class="payment-methods">
        <button id="creditCardBtn" class="payment-btn">Pagar con Tarjeta</button>
        <button id="paypalBtn" class="payment-btn">Pagar con PayPal</button>
        <button id="cryptoBtn" class="payment-btn">Pagar con Criptomonedas</button>
        <button id="qrBtn" class="payment-btn">Pagar con QR</button>
      </div>

      <button class="checkout-btn">Proceed to Checkout</button>
    </section>
  </div>
</main>

<div id="paymentModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closePaymentModal()">&times;</span>
    <h2>Pagar con Tarjeta</h2>
    <form id="creditCardForm">
      <label for="cardName">Nombre del Titular:</label>
      <input type="text" id="cardName" placeholder="Juan Pérez" required>

      <label for="cardNumber">Número de Tarjeta:</label>
      <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>

      <label for="expiryDate">Fecha de Expiración:</label>
      <input type="text" id="expiryDate" placeholder="MM/YY" required>

      <label for="cvv">Código de Seguridad (CVV):</label>
      <input type="text" id="cvv" placeholder="123" required>

<!--      <div class="card-icons">-->
<!--        <img src="assets/images/visa.png" alt="Visa">-->
<!--        <img src="assets/images/mastercard.png" alt="MasterCard">-->
<!--        <img src="assets/images/amex.png" alt="AMEX">-->
<!--      </div>-->

      <button type="submit">Pagar</button>
    </form>
  </div>
</div>

<div id="qrPaymentModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeQrPaymentModal()">&times;</span>
    <h2>Pagar con QR</h2>
    <div id="qr-code-container" class="qr-code-container">
      <img src="https://api.qrserver.com/v1/create-qr-code/?data=Ejemplo%20de%20pago%20con%20QR&size=200x200" alt="Código QR" />
    </div>
    <div class="input-group">
      <label for="businessName">Razón Social:</label>
      <input type="text" id="businessName" placeholder="Ingresa la razón social" required>
    </div>
    <div class="input-group">
      <label for="nit">NIT:</label>
      <input type="text" id="nit" placeholder="Ingresa el NIT" required>
    </div>
    <button id="confirmPaymentBtn" class="btn">Realizar Pago</button>
  </div>
</div>

<!--&lt;!&ndash; Modal para seleccionar criptomoneda &ndash;&gt;-->
<!--<div id="cryptoPaymentModal" class="modal">-->
<!--  <div class="modal-content">-->
<!--    <span class="close" onclick="cerrarModalPago()">&times;</span>-->
<!--    <h2>Selecciona una Criptomoneda</h2>-->
<!--    <button id="selectBitcoinBtn" onclick="seleccionarCripto('bitcoin')">Pagar con Bitcoin</button>-->
<!--    <button id="selectEthereumBtn" onclick="seleccionarCripto('ethereum')">Pagar con Ethereum</button>-->
<!--    <button id="changeCurrencyBtn" style="display:none;" onclick="volverSeleccionMoneda()">Cambiar Moneda</button>-->
<!--  </div>-->
<!--</div>-->


<footer class="footer">
  <div class="container">
    <p>&copy; 2025 Hi-5 MusicStore. Todos los derechos reservados.</p>
  </div>
</footer>

<script type="module" src="../scripts/cart.js"></script>

<script>
  document.getElementById('qrBtn').addEventListener('click', () => {
    const total = parseFloat(document.getElementById('total').innerText.replace('$', ''));
    generateQRCode(total); // Llama a la función para generar el código QR
    document.getElementById('qr-code-container').style.display = 'block'; // Muestra el contenedor del QR
  });
</script>
</body>
</html>